<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Interactive Learning Management System (LMS)</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>
<body class="bg-slate-50 text-slate-900">
  <div id="root"></div>

  <script type="text/babel">
    // Define types
    const UserRole = {
      ADMIN: 'ADMIN',
      TEACHER: 'TEACHER',
      STUDENT: 'STUDENT'
    };

    const TabView = {
      DASHBOARD: 'DASHBOARD',
      STUDENTS: 'STUDENTS',
      TEACHERS: 'TEACHERS',
      COURSES: 'COURSES',
      PHOTO_STUDIO: 'PHOTO_STUDIO',
      SYLLABUS: 'SYLLABUS',
      ACADEMICS: 'ACADEMICS',
      GRADES: 'GRADES',
      PAYMENTS: 'PAYMENTS',
      PROFILE: 'PROFILE',
      ANNOUNCEMENTS: 'ANNOUNCEMENTS',
      UPCOMING_SHOWS: 'UPCOMING_SHOWS'
    };

    // Define mock data
    const INITIAL_STUDENTS = [
      {
        id: '1',
        email: 'msrdharangit23@gmail.com',
        fname: 'Dhara',
        mname: 'R.',
        lname: 'Sharma',
        dob: '2002-03-15',
        gender: 'FEMALE',
        prog: 'BFA Acting',
        enrollmentStatus: 'Active',
        password: 'password'
      },
      {
        id: '2',
        email: 'john.doe@example.com',
        fname: 'John',
        mname: 'A.',
        lname: 'Doe',
        dob: '2001-05-20',
        gender: 'MALE',
        prog: 'BFA Dance',
        enrollmentStatus: 'Active',
        password: 'password'
      }
    ];

    const INITIAL_TEACHERS = [
      {
        id: '1',
        name: 'Jane Smith',
        email: 'director@academy.com',
        dept: 'Acting',
        specialty: 'Method Acting',
        status: 'Active'
      },
      {
        id: '2',
        name: 'Robert Johnson',
        email: 'robert@academy.com',
        dept: 'Dance',
        specialty: 'Contemporary Dance',
        status: 'Active'
      }
    ];

    const INITIAL_COURSES = [
      {
        id: '1',
        code: 'ACT101',
        name: 'Introduction to Acting',
        credits: 3,
        teacherId: '1',
        studentIds: ['1', '2'],
        time: '10:00 AM',
        day: 'Monday',
        instructor: 'Jane Smith'
      },
      {
        id: '2',
        code: 'DAN201',
        name: 'Contemporary Dance',
        credits: 4,
        teacherId: '2',
        studentIds: ['2'],
        time: '2:00 PM',
        day: 'Wednesday',
        instructor: 'Robert Johnson'
      }
    ];

    const INITIAL_PAYMENTS = [
      {
        id: '1',
        studentId: '1',
        studentName: 'Dhara Sharma',
        amount: 1200,
        date: '2024-03-01',
        description: 'Tuition Fee',
        status: 'Paid'
      },
      {
        id: '2',
        studentId: '2',
        studentName: 'John Doe',
        amount: 800,
        date: '2024-03-05',
        description: 'Dance Costume Fee',
        status: 'Pending'
      }
    ];

    const INITIAL_SHOWS = [
      {
        id: '1',
        title: 'Spring Recital',
        date: '2024-05-15',
        description: 'Annual Spring Performance',
        location: 'Main Theater'
      },
      {
        id: '2',
        title: 'Dance Showcase',
        date: '2024-06-20',
        description: 'Contemporary Dance Performance',
        location: 'Studio A'
      }
    ];

    // Import icons from Lucide as React components
    const LayoutDashboard = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <rect x="3" y="3" width="7" height="9" rx="1"></rect>
        <rect x="14" y="3" width="7" height="5" rx="1"></rect>
        <rect x="14" y="12" width="7" height="9" rx="1"></rect>
        <rect x="3" y="16" width="7" height="5" rx="1"></rect>
      </svg>
    );

    const Users = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
        <circle cx="9" cy="7" r="4"></circle>
        <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
      </svg>
    );

    const CalendarDays = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="16" y1="2" x2="16" y2="6"></line>
        <line x1="8" y1="2" x2="8" y2="6"></line>
        <line x1="3" y1="10" x2="21" y2="10"></line>
      </svg>
    );

    const Camera = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"></path>
        <circle cx="12" cy="13" r="3"></circle>
      </svg>
    );

    const Menu = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <line x1="4" y1="12" x2="20" y2="12"></line>
        <line x1="4" y1="6" x2="20" y2="6"></line>
        <line x1="4" y1="18" x2="20" y2="18"></line>
      </svg>
    );

    const Bell = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path>
        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
      </svg>
    );

    const Search = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    );

    const LogOut = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
        <polyline points="16 17 21 12 16 7"></polyline>
        <line x1="21" y1="12" x2="9" y2="12"></line>
      </svg>
    );

    const GraduationCap = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M22 10v6M2 10l10-5 10 5-10 5-10-5 10-5"></path>
        <path d="M6 12v5"></path>
        <path d="M18 12v5"></path>
        <path d="M2 16l10 5 10-5"></path>
      </svg>
    );

    const BookOpen = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
        <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
      </svg>
    );

    const ChevronDown = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <polyline points="6 9 12 15 18 9"></polyline>
      </svg>
    );

    const CreditCard = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <rect x="3" y="5" width="18" height="14" rx="2" ry="2"></rect>
        <line x1="3" y1="10" x2="21" y2="10"></line>
        <line x1="7" y1="15" x2="7.01" y2="15"></line>
        <line x1="11" y1="15" x2="13" y2="15"></line>
      </svg>
    );

    const Briefcase = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M16 20H8a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2z"></path>
        <path d="M12 4v6"></path>
      </svg>
    );

    const UserCircle = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <circle cx="12" cy="12" r="10"></circle>
        <circle cx="12" cy="8" r="3"></circle>
        <path d="M7 21a5 5 0 0 1 10 0"></path>
      </svg>
    );

    const FileText = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
        <polyline points="14 2 14 8 20 8"></polyline>
        <line x1="16" y1="13" x2="8" y2="13"></line>
        <line x1="16" y1="17" x2="8" y2="17"></line>
        <polyline points="10 9 9 9 8 9"></polyline>
      </svg>
    );

    const Megaphone = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M12 8.5v-5.5l7 7h-5.5"></path>
        <path d="M12 15.5v5.5l-7-7h5.5"></path>
        <path d="M20 12h-11"></path>
      </svg>
    );

    const Sparkles = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M12 3a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0V4a1 1 0 0 1 1-1Z"></path>
        <path d="M12 20a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0v-1a1 1 0 0 1 1-1Z"></path>
        <path d="M3 12a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1Z"></path>
        <path d="M20 12a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2h-1a1 1 0 0 1-1-1Z"></path>
        <path d="m18.4 7.4-.9-.9a1 1 0 0 0-1.4 0l-.9.9a1 1 0 0 0 0 1.4l.9.9a1 1 0 0 0 1.4 0l.9-.9a1 1 0 0 0 0-1.4Z"></path>
        <path d="m5.7 16.7-.9-.9a1 1 0 0 0-1.4 0l-.9.9a1 1 0 0 0 0 1.4l.9.9a1 1 0 0 0 1.4 0l.9-.9a1 1 0 0 0 0-1.4Z"></path>
        <path d="m18.4 16.6-.9.9a1 1 0 0 0-1.4 0l-.9-.9a1 1 0 0 0 0-1.4l.9-.9a1 1 0 0 0 1.4 0l.9.9a1 1 0 0 0 0 1.4Z"></path>
        <path d="m5.7 7.3-.9.9a1 1 0 0 0-1.4 0L3 7.3a1 1 0 0 0 0-1.4l.9-.9a1 1 0 0 0 1.4 0l.9.9a1 1 0 0 0 0 1.4Z"></path>
      </svg>
    );

    // Components
    const Dashboard = ({ role, announcements, payments, shows }) => {
      return (
        <div className="space-y-6">
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div className="bg-white p-6 rounded-xl shadow-md border border-slate-100">
              <h3 className="text-slate-500 text-sm font-medium mb-1">Total Students</h3>
              <p className="text-3xl font-bold text-[#4a235a]">245</p>
            </div>
            <div className="bg-white p-6 rounded-xl shadow-md border border-slate-100">
              <h3 className="text-slate-500 text-sm font-medium mb-1">Active Courses</h3>
              <p className="text-3xl font-bold text-[#4a235a]">18</p>
            </div>
            <div className="bg-white p-6 rounded-xl shadow-md border border-slate-100">
              <h3 className="text-slate-500 text-sm font-medium mb-1">Pending Payments</h3>
              <p className="text-3xl font-bold text-[#4a235a]">12</p>
            </div>
            <div className="bg-white p-6 rounded-xl shadow-md border border-slate-100">
              <h3 className="text-slate-500 text-sm font-medium mb-1">Upcoming Events</h3>
              <p className="text-3xl font-bold text-[#4a235a]">5</p>
            </div>
          </div>

          <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <div className="bg-white p-6 rounded-xl shadow-md border border-slate-100">
              <h3 className="text-lg font-bold text-[#4a235a] mb-4">Recent Announcements</h3>
              <div className="space-y-4">
                {announcements.slice(0, 3).map(announcement => (
                  <div key={announcement.id} className="border-l-4 border-[#8e44ad] pl-4 py-1">
                    <h4 className="font-semibold">{announcement.title}</h4>
                    <p className="text-slate-600 text-sm">{announcement.content}</p>
                    <p className="text-slate-400 text-xs mt-1">{announcement.date}</p>
                  </div>
                ))}
              </div>
            </div>
            
            <div className="bg-white p-6 rounded-xl shadow-md border border-slate-100">
              <h3 className="text-lg font-bold text-[#4a235a] mb-4">Recent Payments</h3>
              <div className="space-y-3">
                {payments.slice(0, 3).map(payment => (
                  <div key={payment.id} className="flex justify-between items-center pb-3 border-b border-slate-100">
                    <div>
                      <p className="font-medium">{payment.studentName}</p>
                      <p className="text-slate-500 text-sm">{payment.description}</p>
                    </div>
                    <span className={`px-2 py-1 rounded-full text-xs ${
                      payment.status === 'Paid' ? 'bg-green-100 text-green-800' :
                      payment.status === 'Pending' ? 'bg-yellow-100 text-yellow-800' :
                      'bg-red-100 text-red-800'
                    }`}>
                      {payment.status}
                    </span>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>
      );
    };

    const Students = ({ role, students }) => {
      return (
        <div className="bg-white rounded-xl shadow-md p-6 border border-slate-100">
          <div className="flex justify-between items-center mb-6">
            <h2 className="text-xl font-bold text-[#4a235a]">Student Directory</h2>
            {role === 'ADMIN' && (
              <button className="bg-[#8e44ad] hover:bg-[#4a235a] text-white px-4 py-2 rounded-lg transition-colors">
                Add Student
              </button>
            )}
          </div>
          
          <div className="overflow-x-auto">
            <table className="w-full">
              <thead>
                <tr className="border-b border-slate-200">
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Name</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Email</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Program</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Status</th>
                  {role === 'ADMIN' && <th className="text-left py-3 px-4 font-semibold text-slate-700">Actions</th>}
                </tr>
              </thead>
              <tbody>
                {students.map(student => (
                  <tr key={student.id} className="border-b border-slate-100 hover:bg-slate-50">
                    <td className="py-3 px-4">
                      {student.fname} {student.lname}
                    </td>
                    <td className="py-3 px-4 text-slate-600">{student.email}</td>
                    <td className="py-3 px-4">{student.prog}</td>
                    <td className="py-3 px-4">
                      <span className={`px-2 py-1 rounded-full text-xs ${
                        student.enrollmentStatus === 'Active' ? 'bg-green-100 text-green-800' :
                        student.enrollmentStatus === 'Inactive' ? 'bg-red-100 text-red-800' :
                        'bg-yellow-100 text-yellow-800'
                      }`}>
                        {student.enrollmentStatus}
                      </span>
                    </td>
                    {role === 'ADMIN' && (
                      <td className="py-3 px-4">
                        <button className="text-blue-600 hover:text-blue-800 mr-3">Edit</button>
                        <button className="text-red-600 hover:text-red-800">Delete</button>
                      </td>
                    )}
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
      );
    };

    const Teachers = ({ teachers }) => {
      return (
        <div className="bg-white rounded-xl shadow-md p-6 border border-slate-100">
          <div className="flex justify-between items-center mb-6">
            <h2 className="text-xl font-bold text-[#4a235a]">Faculty Directory</h2>
            <button className="bg-[#8e44ad] hover:bg-[#4a235a] text-white px-4 py-2 rounded-lg transition-colors">
              Add Teacher
            </button>
          </div>
          
          <div className="overflow-x-auto">
            <table className="w-full">
              <thead>
                <tr className="border-b border-slate-200">
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Name</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Email</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Department</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Specialty</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Status</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Actions</th>
                </tr>
              </thead>
              <tbody>
                {teachers.map(teacher => (
                  <tr key={teacher.id} className="border-b border-slate-100 hover:bg-slate-50">
                    <td className="py-3 px-4">{teacher.name}</td>
                    <td className="py-3 px-4 text-slate-600">{teacher.email}</td>
                    <td className="py-3 px-4">{teacher.dept}</td>
                    <td className="py-3 px-4">{teacher.specialty}</td>
                    <td className="py-3 px-4">
                      <span className={`px-2 py-1 rounded-full text-xs ${
                        teacher.status === 'Active' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'
                      }`}>
                        {teacher.status}
                      </span>
                    </td>
                    <td className="py-3 px-4">
                      <button className="text-blue-600 hover:text-blue-800 mr-3">Edit</button>
                      <button className="text-red-600 hover:text-red-800">Delete</button>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
      );
    };

    const ClassSchedule = ({ courses }) => {
      return (
        <div className="bg-white rounded-xl shadow-md p-6 border border-slate-100">
          <div className="flex justify-between items-center mb-6">
            <h2 className="text-xl font-bold text-[#4a235a]">Course Schedule</h2>
            <button className="bg-[#8e44ad] hover:bg-[#4a235a] text-white px-4 py-2 rounded-lg transition-colors">
              Add Course
            </button>
          </div>
          
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            {courses.map(course => (
              <div key={course.id} className="border border-slate-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                <h3 className="font-bold text-[#4a235a]">{course.name}</h3>
                <p className="text-slate-600 text-sm">{course.code}</p>
                <p className="text-slate-700 mt-2"><span className="font-medium">Instructor:</span> {course.instructor}</p>
                <p className="text-slate-700"><span className="font-medium">Time:</span> {course.day} at {course.time}</p>
                <p className="text-slate-700"><span className="font-medium">Credits:</span> {course.credits}</p>
                <div className="mt-3 pt-3 border-t border-slate-100">
                  <span className="text-xs font-medium text-slate-500">STUDENTS ENROLLED</span>
                  <p className="text-sm">{course.studentIds ? course.studentIds.length : 0} students</p>
                </div>
              </div>
            ))}
          </div>
        </div>
      );
    };

    const SyllabusCreator = ({ courses, role }) => {
      return (
        <div className="bg-white rounded-xl shadow-md p-6 border border-slate-100">
          <h2 className="text-xl font-bold text-[#4a235a] mb-6">Syllabi Management</h2>
          
          <div className="mb-6">
            <label className="block text-sm font-semibold text-slate-700 mb-2">Select Course</label>
            <select className="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#8e44ad] outline-none">
              <option value="">Choose a course...</option>
              {courses.map(course => (
                <option key={course.id} value={course.id}>{course.name}</option>
              ))}
            </select>
          </div>
          
          {role === 'ADMIN' || role === 'TEACHER' ? (
            <div className="space-y-4">
              <div>
                <label className="block text-sm font-semibold text-slate-700 mb-2">Description</label>
                <textarea 
                  className="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#8e44ad] outline-none" 
                  rows="3"
                  placeholder="Enter course description..."
                ></textarea>
              </div>
              
              <div>
                <label className="block text-sm font-semibold text-slate-700 mb-2">Objectives</label>
                <textarea 
                  className="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#8e44ad] outline-none" 
                  rows="3"
                  placeholder="Enter course objectives..."
                ></textarea>
              </div>
              
              <div className="flex space-x-3">
                <button className="bg-[#8e44ad] hover:bg-[#4a235a] text-white px-4 py-2 rounded-lg transition-colors">
                  Save Syllabus
                </button>
                <button className="bg-slate-200 hover:bg-slate-300 text-slate-700 px-4 py-2 rounded-lg transition-colors">
                  Cancel
                </button>
              </div>
            </div>
          ) : (
            <div className="bg-blue-50 p-4 rounded-lg border border-blue-100">
              <p className="text-blue-800">As a student, you can view syllabi for your enrolled courses.</p>
              <div className="mt-4 space-y-3">
                {courses.map(course => (
                  <div key={course.id} className="border border-blue-200 rounded p-3">
                    <h4 className="font-bold text-[#4a235a]">{course.name}</h4>
                    <p className="text-sm text-slate-600 mt-1">Click to view syllabus details</p>
                  </div>
                ))}
              </div>
            </div>
          )}
        </div>
      );
    };

    const StudentAcademics = ({ studentId, students, courses, grades, role }) => {
      const student = students.find(s => s.id === studentId);
      
      return (
        <div className="bg-white rounded-xl shadow-md p-6 border border-slate-100">
          <h2 className="text-xl font-bold text-[#4a235a] mb-6">Academic Records</h2>
          
          {role === 'STUDENT' ? (
            <div>
              <div className="mb-6 p-4 bg-slate-50 rounded-lg">
                <h3 className="font-bold text-lg">{student ? `${student.fname} ${student.lname}` : 'Student Profile'}</h3>
                <p className="text-slate-600">Program: {student?.prog || 'N/A'}</p>
              </div>
              
              <div className="mb-6">
                <h3 className="text-lg font-bold text-[#4a235a] mb-4">Current Transcript</h3>
                <div className="overflow-x-auto">
                  <table className="w-full">
                    <thead>
                      <tr className="border-b border-slate-200">
                        <th className="text-left py-3 px-4 font-semibold text-slate-700">Course</th>
                        <th className="text-left py-3 px-4 font-semibold text-slate-700">Instructor</th>
                        <th className="text-left py-3 px-4 font-semibold text-slate-700">Credits</th>
                        <th className="text-left py-3 px-4 font-semibold text-slate-700">Grade</th>
                      </tr>
                    </thead>
                    <tbody>
                      {courses.map(course => {
                        const gradeEntry = grades.find(g => g.sid === studentId && g.cid === course.id);
                        return (
                          <tr key={course.id} className="border-b border-slate-100">
                            <td className="py-3 px-4">{course.name}</td>
                            <td className="py-3 px-4 text-slate-600">{course.instructor}</td>
                            <td className="py-3 px-4">{course.credits}</td>
                            <td className="py-3 px-4 font-medium">
                              {gradeEntry ? gradeEntry.val : 'N/A'}
                            </td>
                          </tr>
                        );
                      })}
                    </tbody>
                  </table>
                </div>
              </div>
              
              <div>
                <h3 className="text-lg font-bold text-[#4a235a] mb-4">GPA: {student?.gpa?.toFixed(2) || 'Calculating...'}</h3>
              </div>
            </div>
          ) : (
            <div>
              <div className="mb-6">
                <label className="block text-sm font-semibold text-slate-700 mb-2">Select Student</label>
                <select className="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#8e44ad] outline-none">
                  <option value="">Choose a student...</option>
                  {students.map(student => (
                    <option key={student.id} value={student.id}>{student.fname} {student.lname}</option>
                  ))}
                </select>
              </div>
              
              <div className="bg-blue-50 p-4 rounded-lg border border-blue-100">
                <p className="text-blue-800">Transcript information for the selected student will appear here.</p>
              </div>
            </div>
          )}
        </div>
      );
    };

    const Payments = ({ role, payments, setPayments }) => {
      return (
        <div className="bg-white rounded-xl shadow-md p-6 border border-slate-100">
          <div className="flex justify-between items-center mb-6">
            <h2 className="text-xl font-bold text-[#4a235a]">Billing & Payments</h2>
            {role === 'ADMIN' && (
              <button className="bg-[#8e44ad] hover:bg-[#4a235a] text-white px-4 py-2 rounded-lg transition-colors">
                Add Payment
              </button>
            )}
          </div>
          
          <div className="overflow-x-auto">
            <table className="w-full">
              <thead>
                <tr className="border-b border-slate-200">
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Student</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Description</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Amount</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Date</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Status</th>
                  {role === 'ADMIN' && <th className="text-left py-3 px-4 font-semibold text-slate-700">Actions</th>}
                </tr>
              </thead>
              <tbody>
                {payments.map(payment => (
                  <tr key={payment.id} className="border-b border-slate-100 hover:bg-slate-50">
                    <td className="py-3 px-4 font-medium">{payment.studentName}</td>
                    <td className="py-3 px-4 text-slate-600">{payment.description}</td>
                    <td className="py-3 px-4">${payment.amount.toFixed(2)}</td>
                    <td className="py-3 px-4">{payment.date}</td>
                    <td className="py-3 px-4">
                      <span className={`px-2 py-1 rounded-full text-xs ${
                        payment.status === 'Paid' ? 'bg-green-100 text-green-800' :
                        payment.status === 'Pending' ? 'bg-yellow-100 text-yellow-800' :
                        'bg-red-100 text-red-800'
                      }`}>
                        {payment.status}
                      </span>
                    </td>
                    {role === 'ADMIN' && (
                      <td className="py-3 px-4">
                        <button className="text-blue-600 hover:text-blue-800 mr-3">Edit</button>
                        <button className="text-red-600 hover:text-red-800">Delete</button>
                      </td>
                    )}
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
      );
    };

    const Announcements = ({ role, announcements, setAnnouncements }) => {
      return (
        <div className="bg-white rounded-xl shadow-md p-6 border border-slate-100">
          <div className="flex justify-between items-center mb-6">
            <h2 className="text-xl font-bold text-[#4a235a]">Announcements</h2>
            {role === 'ADMIN' && (
              <button className="bg-[#8e44ad] hover:bg-[#4a235a] text-white px-4 py-2 rounded-lg transition-colors">
                Create Announcement
              </button>
            )}
          </div>
          
          <div className="space-y-4">
            {announcements.map(announcement => (
              <div key={announcement.id} className="border border-slate-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                <div className="flex justify-between">
                  <h3 className="font-bold text-[#4a235a] text-lg">{announcement.title}</h3>
                  <span className="text-slate-500 text-sm">{announcement.date}</span>
                </div>
                <p className="text-slate-700 mt-2">{announcement.content}</p>
                <div className="mt-3 flex justify-between items-center">
                  <span className="text-xs px-2 py-1 bg-slate-100 rounded-full">{announcement.audience}</span>
                  <span className="text-slate-500 text-sm">By: {announcement.author}</span>
                </div>
              </div>
            ))}
          </div>
        </div>
      );
    };

    const UpcomingShows = ({ shows }) => {
      return (
        <div className="bg-white rounded-xl shadow-md p-6 border border-slate-100">
          <h2 className="text-xl font-bold text-[#4a235a] mb-6">Events & Shows</h2>
          
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {shows.map(show => (
              <div key={show.id} className="border border-slate-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                <h3 className="font-bold text-[#4a235a] text-lg">{show.title}</h3>
                <p className="text-slate-600 mt-2">{show.description}</p>
                <div className="mt-4 flex items-center text-slate-700">
                  <span className="font-medium mr-2">Date:</span>
                  <span>{show.date}</span>
                </div>
                <div className="mt-2 flex items-center text-slate-700">
                  <span className="font-medium mr-2">Location:</span>
                  <span>{show.location}</span>
                </div>
              </div>
            ))}
          </div>
        </div>
      );
    };

    const Gradebook = ({ role, courses, students, grades, setGrades }) => {
      return (
        <div className="bg-white rounded-xl shadow-md p-6 border border-slate-100">
          <h2 className="text-xl font-bold text-[#4a235a] mb-6">Gradebook</h2>
          
          <div className="mb-6">
            <label className="block text-sm font-semibold text-slate-700 mb-2">Select Course</label>
            <select className="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#8e44ad] outline-none">
              <option value="">Choose a course...</option>
              {courses.map(course => (
                <option key={course.id} value={course.id}>{course.name}</option>
              ))}
            </select>
          </div>
          
          <div className="overflow-x-auto">
            <table className="w-full">
              <thead>
                <tr className="border-b border-slate-200">
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Student Name</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Email</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Program</th>
                  <th className="text-left py-3 px-4 font-semibold text-slate-700">Grade</th>
                  {role === 'ADMIN' || role === 'TEACHER' ? (
                    <th className="text-left py-3 px-4 font-semibold text-slate-700">Actions</th>
                  ) : null}
                </tr>
              </thead>
              <tbody>
                {students.map(student => {
                  const gradeEntry = grades.find(g => g.sid === student.id);
                  return (
                    <tr key={student.id} className="border-b border-slate-100 hover:bg-slate-50">
                      <td className="py-3 px-4">{student.fname} {student.lname}</td>
                      <td className="py-3 px-4 text-slate-600">{student.email}</td>
                      <td className="py-3 px-4">{student.prog}</td>
                      <td className="py-3 px-4">
                        {gradeEntry ? gradeEntry.val : 'N/A'}
                      </td>
                      {role === 'ADMIN' || role === 'TEACHER' ? (
                        <td className="py-3 px-4">
                          <input
                            type="text"
                            className="w-20 p-1 border border-slate-300 rounded text-center"
                            defaultValue={gradeEntry ? gradeEntry.val : ''}
                            placeholder="Grade"
                          />
                        </td>
                      ) : null}
                    </tr>
                  );
                })}
              </tbody>
            </table>
          </div>
        </div>
      );
    };

    const Profile = ({ user, role, onUpdateProfile }) => {
      return (
        <div className="bg-white rounded-xl shadow-md p-6 border border-slate-100">
          <h2 className="text-xl font-bold text-[#4a235a] mb-6">My Profile</h2>
          
          <div className="flex flex-col md:flex-row">
            <div className="md:w-1/3 mb-6 md:mb-0 md:pr-6">
              <div className="bg-slate-100 border-2 border-dashed rounded-xl w-32 h-32 mx-auto flex items-center justify-center text-slate-400">
                <UserCircle size={48} />
              </div>
              <p className="text-center mt-3 text-slate-600">Profile Photo</p>
              <button className="mt-2 w-full bg-slate-200 hover:bg-slate-300 text-slate-700 px-4 py-2 rounded-lg transition-colors">
                Change Photo
              </button>
            </div>
            
            <div className="md:w-2/3">
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label className="block text-sm font-semibold text-slate-700 mb-2">First Name</label>
                  <input 
                    type="text" 
                    className="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#8e44ad] outline-none" 
                    defaultValue={user?.fname || user?.name?.split(' ')[0] || ''}
                  />
                </div>
                
                <div>
                  <label className="block text-sm font-semibold text-slate-700 mb-2">Last Name</label>
                  <input 
                    type="text" 
                    className="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#8e44ad] outline-none" 
                    defaultValue={user?.lname || user?.name?.split(' ')[1] || ''}
                  />
                </div>
                
                <div>
                  <label className="block text-sm font-semibold text-slate-700 mb-2">Email</label>
                  <input 
                    type="email" 
                    className="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#8e44ad] outline-none" 
                    defaultValue={user?.email || ''}
                    disabled={role !== 'ADMIN'}
                  />
                </div>
                
                {role === 'STUDENT' && (
                  <div>
                    <label className="block text-sm font-semibold text-slate-700 mb-2">Program</label>
                    <input 
                      type="text" 
                      className="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#8e44ad] outline-none" 
                      defaultValue={user?.prog || ''}
                    />
                  </div>
                )}
                
                <div className="md:col-span-2">
                  <label className="block text-sm font-semibold text-slate-700 mb-2">Role</label>
                  <input 
                    type="text" 
                    className="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#8e44ad] outline-none" 
                    defaultValue={role} 
                    disabled
                  />
                </div>
              </div>
              
              <div className="mt-6 flex space-x-3">
                <button className="bg-[#8e44ad] hover:bg-[#4a235a] text-white px-4 py-2 rounded-lg transition-colors">
                  Save Changes
                </button>
                <button className="bg-slate-200 hover:bg-slate-300 text-slate-700 px-4 py-2 rounded-lg transition-colors">
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>
      );
    };

    const PhotoStudio = () => {
      return (
        <div className="bg-white rounded-xl shadow-md p-6 border border-slate-100">
          <h2 className="text-xl font-bold text-[#4a235a] mb-6">Photo Studio</h2>
          <div className="text-center py-12 bg-slate-50 rounded-lg border-2 border-dashed border-slate-300">
            <Camera size={48} className="mx-auto text-slate-400 mb-4" />
            <p className="text-slate-600">Take or upload photos for student profiles and events</p>
            <button className="mt-4 bg-[#8e44ad] hover:bg-[#4a235a] text-white px-4 py-2 rounded-lg transition-colors">
              Upload Photo
            </button>
          </div>
        </div>
      );
    };

    // Main App component
    const App = () => {
      // Global Data State
      const [students, setStudents] = React.useState(INITIAL_STUDENTS);
      const [teachers, setTeachers] = React.useState(INITIAL_TEACHERS);
      const [courses, setCourses] = React.useState(INITIAL_COURSES);
      const [payments, setPayments] = React.useState(INITIAL_PAYMENTS);
      const [shows, setShows] = React.useState(INITIAL_SHOWS);
      const [grades, setGrades] = React.useState([]);
      const [announcements, setAnnouncements] = React.useState([
        { 
          id: '1', 
          title: 'Spring Recital Auditions', 
          content: 'Auditions for the main roles will be held next Friday in Studio A. Please prepare a 2-minute monologue.', 
          date: '2024-03-10', 
          audience: 'ALL',
          author: 'Admin'
        },
        { 
          id: '2', 
          title: 'Facility Maintenance', 
          content: 'Studio B will be closed for floor maintenance on Wednesday afternoon.', 
          date: '2024-03-12', 
          audience: 'ALL',
          author: 'Admin'
        }
      ]);

      // Auth State
      const [isAuthenticated, setIsAuthenticated] = React.useState(false);
      const [currentUserRole, setCurrentUserRole] = React.useState('ADMIN');
      const [currentUser, setCurrentUser] = React.useState(null);
      const [loginForm, setLoginForm] = React.useState({ role: '', user: '', pass: '' });

      // UI State
      const [activeTab, setActiveTab] = React.useState(TabView.DASHBOARD);
      const [isSidebarOpen, setIsSidebarOpen] = React.useState(false);

      // --- LOGIN LOGIC ---
      const handleLogin = (e) => {
        e.preventDefault();
        const { role, user, pass } = loginForm;

        if (role === 'ADMIN' && user === 'admin' && pass === 'password') {
          setCurrentUserRole('ADMIN');
          setCurrentUser({ name: 'Administrator' });
          setIsAuthenticated(true);
          setActiveTab(TabView.DASHBOARD);
        } else if (role === 'TEACHER') {
          const teacher = teachers.find(t => t.email.toLowerCase() === user.toLowerCase());
          if (teacher && pass === 'password') {
            setCurrentUserRole('TEACHER');
            setCurrentUser(teacher);
            setIsAuthenticated(true);
            setActiveTab(TabView.DASHBOARD);
          } else {
            alert('Invalid Teacher Credentials. Use email from directory and password "password".');
          }
        } else if (role === 'STUDENT') {
          const student = students.find(s => s.email.toLowerCase() === user.toLowerCase());
          if (student && pass === student.password) {
            setCurrentUserRole('STUDENT');
            setCurrentUser(student);
            setIsAuthenticated(true);
            setActiveTab(TabView.DASHBOARD);
          } else {
            alert('Invalid Student Credentials. Use email from directory and password "password".');
          }
        } else {
          alert('Please select a valid role and enter credentials.');
        }
      };

      const handleLogout = () => {
        setIsAuthenticated(false);
        setCurrentUser(null);
        setLoginForm({ role: '', user: '', pass: '' });
      };

      const handleProfileUpdate = (updatedUser) => {
        setCurrentUser(updatedUser);
        if (currentUserRole === 'STUDENT') {
          setStudents(prev => prev.map(s => s.id === updatedUser.id ? updatedUser : s));
        } else if (currentUserRole === 'TEACHER') {
          setTeachers(prev => prev.map(t => t.id === updatedUser.id ? updatedUser : t));
        }
      };

      const updateStudent = (updated) => {
        setStudents(prev => prev.map(s => s.id === updated.id ? updated : s));
      };

      // --- NAVIGATION ---
      const getNavItems = (role) => {
        const common = [
          { id: TabView.DASHBOARD, label: 'Dashboard', icon: <LayoutDashboard size={20} /> },
          { id: TabView.UPCOMING_SHOWS, label: 'Events & Shows', icon: <Sparkles size={20} /> },
        ];

        switch (role) {
          case 'ADMIN':
            return [
              ...common,
              { id: TabView.ANNOUNCEMENTS, label: 'Announcements', icon: <Megaphone size={20} /> },
              { id: TabView.STUDENTS, label: 'Students', icon: <Users size={20} /> },
              { id: TabView.TEACHERS, label: 'Faculty', icon: <Briefcase size={20} /> },
              { id: TabView.COURSES, label: 'Courses', icon: <CalendarDays size={20} /> },
              { id: TabView.GRADES, label: 'Gradebook', icon: <FileText size={20} /> },
              { id: TabView.SYLLABUS, label: 'Syllabi', icon: <BookOpen size={20} /> },
              { id: TabView.ACADEMICS, label: 'Transcripts', icon: <GraduationCap size={20} /> },
              { id: TabView.PAYMENTS, label: 'Billing', icon: <CreditCard size={20} /> },
              { id: TabView.PHOTO_STUDIO, label: 'Photo Studio', icon: <Camera size={20} /> },
            ];
          case 'TEACHER':
            return [
              ...common,
              { id: TabView.STUDENTS, label: 'Students', icon: <Users size={20} /> },
              { id: TabView.COURSES, label: 'My Schedule', icon: <CalendarDays size={20} /> },
              { id: TabView.GRADES, label: 'Gradebook', icon: <FileText size={20} /> },
              { id: TabView.SYLLABUS, label: 'Syllabus', icon: <BookOpen size={20} /> },
              { id: TabView.PHOTO_STUDIO, label: 'Photo Studio', icon: <Camera size={20} /> },
            ];
          case 'STUDENT':
            return [
              ...common,
              { id: TabView.PROFILE, label: 'My Profile', icon: <UserCircle size={20} /> },
              { id: TabView.ACADEMICS, label: 'Transcript', icon: <GraduationCap size={20} /> },
              { id: TabView.SYLLABUS, label: 'My Syllabi', icon: <BookOpen size={20} /> },
              { id: TabView.PAYMENTS, label: 'Financials', icon: <CreditCard size={20} /> },
              { id: TabView.PHOTO_STUDIO, label: 'Photo Studio', icon: <Camera size={20} /> },
            ];
          default:
            return common;
        }
      };

      const currentNavItems = getNavItems(currentUserRole);

      const renderContent = () => {
        switch (activeTab) {
          case TabView.DASHBOARD:
            return <Dashboard role={currentUserRole} announcements={announcements} payments={payments} shows={shows} />;
          case TabView.ANNOUNCEMENTS:
            return <Announcements role={currentUserRole} announcements={announcements} setAnnouncements={setAnnouncements} />;
          case TabView.UPCOMING_SHOWS:
            return <UpcomingShows role={currentUserRole} shows={shows} setShows={setShows} />;
          case TabView.STUDENTS:
            return <Students role={currentUserRole} students={students} setStudents={setStudents} courses={courses} grades={grades} />;
          case TabView.TEACHERS:
            return <Teachers teachers={teachers} setTeachers={setTeachers} />;
          case TabView.COURSES:
            return <ClassSchedule role={currentUserRole} courses={courses} setCourses={setCourses} students={students} teachers={teachers} />;
          case TabView.PHOTO_STUDIO:
            return <PhotoStudio />;
          case TabView.SYLLABUS:
            return <SyllabusCreator courses={courses} setCourses={setCourses} role={currentUserRole} currentUserId={currentUser?.id} />;
          case TabView.ACADEMICS:
            return <StudentAcademics studentId={currentUserRole === 'STUDENT' ? currentUser.id : undefined} students={students} courses={courses} grades={grades} role={currentUserRole} onUpdateStudent={updateStudent} />;
          case TabView.GRADES:
            return <Gradebook role={currentUserRole} currentUserId={currentUser?.id} courses={courses} students={students} grades={grades} setGrades={setGrades} />;
          case TabView.PAYMENTS:
            return <Payments role={currentUserRole} payments={payments} setPayments={setPayments} />;
          case TabView.PROFILE:
            return <Profile user={currentUser} role={currentUserRole} onUpdateProfile={handleProfileUpdate} />;
          default:
            return <Dashboard role={currentUserRole} announcements={announcements} payments={payments} shows={shows} />;
        }
      };

      // --- LOGIN SCREEN RENDER ---
      if (!isAuthenticated) {
        return (
          <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-[#4a235a] to-[#8e44ad] p-4">
            <div className="bg-white p-8 rounded-xl shadow-2xl w-full max-w-md">
               <div className="text-center mb-8">
                  <div className="w-16 h-16 bg-[#4a235a] rounded-lg mx-auto flex items-center justify-center mb-4 shadow-lg transform rotate-3">
                     <span className="text-white font-bold text-2xl">CR</span>
                  </div>
                  <h2 className="text-2xl font-bold text-[#4a235a]">C.R.Williams Portal</h2>
                  <p className="text-slate-500 text-sm">Performing Arts Academy</p>
               </div>
               
               <form onSubmit={handleLogin} className="space-y-4">
                  <div>
                     <label className="block text-sm font-semibold text-slate-700 mb-1">Select Role</label>
                     <select 
                       className="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#8e44ad] outline-none"
                       value={loginForm.role}
                       onChange={e => setLoginForm({...loginForm, role: e.target.value})}
                       required
                     >
                        <option value="" disabled>Choose your role...</option>
                        <option value="ADMIN">Administrator</option>
                        <option value="TEACHER">Teacher</option>
                        <option value="STUDENT">Student</option>
                     </select>
                  </div>
                  
                  <div>
                    <label className="block text-sm font-semibold text-slate-700 mb-1">Username / Email</label>
                    <input 
                      type="text" 
                      className="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#8e44ad] outline-none"
                      placeholder={loginForm.role === 'ADMIN' ? 'admin' : 'email@example.com'}
                      value={loginForm.user}
                      onChange={e => setLoginForm({...loginForm, user: e.target.value})}
                      required
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-semibold text-slate-700 mb-1">Password</label>
                    <input 
                      type="password" 
                      className="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#8e44ad] outline-none"
                      placeholder=""
                      value={loginForm.pass}
                      onChange={e => setLoginForm({...loginForm, pass: e.target.value})}
                      required
                    />
                  </div>

                  <button type="submit" className="w-full bg-[#8e44ad] hover:bg-[#4a235a] text-white font-bold py-3 rounded-lg transition-colors shadow-lg mt-2">
                     Login to Portal
                  </button>
               </form>
               
               <div className="mt-6 p-4 bg-slate-50 rounded-lg text-xs text-slate-500 border border-slate-100">
                  <p className="font-semibold mb-1">Demo Credentials:</p>
                  <p>Admin: admin / password</p>
                  <p>Student: msrdharangit23@gmail.com / password</p>
                  <p>Teacher: director@academy.com / password</p>
               </div>
            </div>
          </div>
        );
      }

      // --- APP RENDER ---
      return (
        <div className="min-h-screen bg-slate-50 flex font-sans">
          {/* Sidebar */}
          <aside className={`
            fixed inset-y-0 left-0 z-50 w-64 bg-[#2c3e50] text-white transform transition-transform duration-300 ease-in-out
            ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'}
            lg:relative lg:translate-x-0 lg:flex lg:flex-col lg:shadow-xl
            print:hidden
          `}>
            <div className="h-20 flex items-center px-6 border-b border-slate-700 bg-[#4a235a]">
              <div className="w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center mr-3 shrink-0 backdrop-blur-sm">
                 <span className="font-bold text-white text-lg">CR</span>
              </div>
              <div>
                 <h1 className="font-bold text-white leading-tight">C.R.Williams</h1>
                 <p className="text-xs text-purple-200">Performing Arts</p>
              </div>
            </div>

            {/* User Info Card */}
            <div className="p-6 border-b border-slate-700 bg-[#34495e]">
               <div className="flex items-center space-x-3">
                  <div className="bg-slate-200 text-[#4a235a] p-0.5 rounded-full overflow-hidden w-12 h-12 flex items-center justify-center shrink-0 border-2 border-slate-300">
                    <UserCircle size={36} className="text-[#4a235a]" />
                  </div>
                  <div className="overflow-hidden">
                     <p className="text-sm font-bold text-white truncate w-full" title={currentUser?.fname ? `${currentUser.fname} ${currentUser.lname}` : currentUser?.name}>
                       {currentUser?.fname ? `${currentUser.fname} ${currentUser.lname}` : currentUser?.name}
                     </p>
                     <p className="text-xs text-slate-400 font-medium tracking-wide">{currentUserRole}</p>
                  </div>
               </div>
            </div>

            <nav className="flex-1 px-4 py-6 space-y-2 overflow-y-auto">
              {currentNavItems.map((item) => (
                <button
                  key={item.id}
                  onClick={() => {
                    setActiveTab(item.id);
                    setIsSidebarOpen(false);
                  }}
                  className={`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200
                    ${activeTab === item.id 
                      ? 'bg-white text-[#8e44ad] font-bold shadow-md' 
                      : 'text-slate-300 hover:bg-[#4a235a] hover:text-white'
                    }`}
                >
                  {item.icon}
                  <span>{item.label}</span>
                </button>
              ))}
            </nav>

            <div className="p-4 border-t border-slate-700">
              <button 
                onClick={handleLogout}
                className="flex items-center space-x-3 text-red-300 hover:text-white hover:bg-red-500/20 w-full px-4 py-2 rounded-lg transition-colors"
              >
                <LogOut size={20} />
                <span>Sign Out</span>
              </button>
            </div>
          </aside>

          {/* Main Content */}
          <div className="flex-1 flex flex-col h-screen overflow-hidden print:h-auto print:overflow-visible">
            {/* Header */}
            <header className="h-16 bg-white border-b border-slate-200 flex items-center justify-between px-4 lg:px-8 shadow-sm z-10 print:hidden">
              <div className="flex items-center">
                <button 
                  className="p-2 rounded-lg text-slate-500 hover:bg-slate-100 lg:hidden mr-4"
                  onClick={() => setIsSidebarOpen(!isSidebarOpen)}
                >
                  <Menu size={24} />
                </button>
                <h2 className="text-xl font-bold text-[#4a235a]">
                  {currentNavItems.find(i => i.id === activeTab)?.label}
                </h2>
              </div>

              <div className="flex items-center space-x-4">
                <div className="hidden md:flex relative">
                   <Search className="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400" size={16} />
                   <input 
                     type="text" 
                     placeholder="Search..." 
                     className="pl-9 pr-4 py-2 rounded-full bg-slate-100 border-transparent focus:bg-white focus:ring-2 focus:ring-[#8e44ad] focus:border-transparent text-sm w-64 transition-all"
                   />
                </div>
                <button className="relative p-2 text-slate-500 hover:text-[#8e44ad] transition-colors">
                  <Bell size={20} />
                  <span className="absolute top-1 right-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"></span>
                </button>
              </div>
            </header>

            {/* Content Area */}
            <main className="flex-1 overflow-auto p-4 lg:p-8 bg-slate-50 scroll-smooth print:overflow-visible print:bg-white print:p-0">
              <div className="max-w-7xl mx-auto h-full print:w-full print:max-w-none">
                 {renderContent()}
              </div>
            </main>
          </div>
          
          {/* Mobile Sidebar Overlay */}
          {isSidebarOpen && (
            <div 
              className="fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm print:hidden"
              onClick={() => setIsSidebarOpen(false)}
            />
          )}
        </div>
      );
    };

    // Render the app
    const rootElement = document.getElementById('root');
    const root = ReactDOM.createRoot(rootElement);
    root.render(<App />);
  </script>
</body>
</html>